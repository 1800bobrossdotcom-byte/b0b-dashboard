# Ollama Bridge Directory

This folder manages the Claude ⟷ Ollama/Clawdbot communication pipeline.

## Files

- `ollama-context.txt` — Generated by `/ollama/export`. Contains all b0b state, history, docs.
- `ollama-insights.json` — Written by Ollama/Clawdbot after processing context.

## Workflow

```
┌─────────────┐    POST /ollama/export    ┌─────────────────────┐
│   Claude    │ ────────────────────────► │  ollama-context.txt │
│  (Primary)  │                           └─────────────────────┘
└─────────────┘                                     │
       ▲                                            ▼
       │                              ┌─────────────────────────┐
       │                              │   Ollama / Clawdbot     │
       │                              │   (Local Processing)    │
       │                              └─────────────────────────┘
       │                                            │
       │         GET /ollama/insights               ▼
       │ ◄──────────────────────────── ┌─────────────────────────┐
       │                               │  ollama-insights.json   │
       │                               └─────────────────────────┘
       │
   Claude reads insights and acts
```

## API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/ollama/export` | POST | Export context file for Ollama |
| `/ollama/insights` | GET | Read insights from Ollama |
| `/ollama/insights` | POST | Write insights (from Clawdbot) |
| `/ollama/insights/urgent` | GET | Get high-priority insights only |
| `/ollama/insights/:type` | GET | Filter by type (trading, technical, creative) |
| `/ollama/status` | GET | Check if local Ollama is running |
| `/ollama/query` | POST | Direct query to local Ollama (optional) |

## Insights Format

```json
{
  "timestamp": "2026-01-28T12:00:00Z",
  "source": "ollama/clawdbot",
  "model": "mistral",
  "insights": [
    {
      "type": "trading",
      "priority": "high",
      "title": "Pattern detected",
      "content": "Description of insight",
      "action": "Suggested action for Claude"
    }
  ],
  "patterns": ["Pattern 1", "Pattern 2"],
  "questions": ["Question for team to consider"]
}
```

## Clawdbot Integration

Clawdbot can:
1. Pull context via API: `GET https://b0b-brain.up.railway.app/ollama/export`
2. Process with Ollama locally
3. Submit insights: `POST https://b0b-brain.up.railway.app/ollama/insights`

Claude then reads and acts on those insights.
