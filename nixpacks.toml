# B0B.DEV Root Nixpacks Configuration
# ═══════════════════════════════════════════════════════════════
# Builds the dashboard from the root directory

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = ["cd dashboard && npm install --legacy-peer-deps"]

[phases.build]
cmds = ["cd dashboard && npm run build"]

[start]
cmd = "cd dashboard && npm run start"

[variables]
NODE_ENV = "production"
NEXT_TELEMETRY_DISABLED = "1"
NPM_CONFIG_LEGACY_PEER_DEPS = "true"
